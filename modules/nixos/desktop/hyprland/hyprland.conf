
monitor=,preferred,auto,auto
# monitor = DP-1,highres,0x0,1,bitdepth,10
# monitor = HDMI-A-1,addreserved,0,0,0,150
# monitor = HDMI-A-1,highres,-1920x180,1
# monitor = DVI-D-1,highres,320x-1080,1
exec-once = exec ~/.config/hypr/launch

exec-once=[workspace 1 silent] firefox
workspace = 1, monitor:DP-1, on-created-empty:[silent,fullscreen] firefox

exec-once=[workspace 2 silent] firefox
workspace = 2, monitor:DP-1, on-created-empty:[silent,fullscreen] firefox

exec-once=[workspace 3 silent] kitty --config NONE -o background_opacity=0.75 tmux
workspace = 3, monitor:DP-1, on-created-empty:[silent,fullscreen] kitty --config NONE -o background_opacity=0.75 tmux

workspace = 4, monitor:DP-1

exec-once=[workspace 5 silent] webcord
workspace = 5, monitor:DP-1, on-created-empty:[silent,fullscreen] webcord

exec-once=[workspace 6 silent] gimp
workspace = 6, monitor:DP-1, on-created-empty:[silent,fullscreen] gimp

input {
    kb_layout = us,dk
    kb_variant = altgr-intl,
    kb_options = grp:alt_space_toggle
    follow_mouse = 1

    touchpad {
        natural_scroll = true
    }
    sensitivity = -0.5 # -1.0 - 1.0, 0 means no modification.
}

general {
  gaps_in=5
  gaps_out=5
  border_size=0
  no_border_on_floating = true
  layout = dwindle
}

misc {
  disable_hyprland_logo = false
  disable_splash_rendering = false
  mouse_move_enables_dpms = false
  vfr = 1
  enable_swallow = true
  swallow_regex = ^(wezterm)$
  focus_on_activate = false
}

decoration {
  rounding = 8
  active_opacity = 1.0
  inactive_opacity = 1.0
  drop_shadow = false
  shadow_ignore_window = true
}

animations {
  enabled = true
  bezier = overshot, 0.05, 0.9, 0.1, 1.05
  bezier = smoothOut, 0.36, 0, 0.66, -0.56
  bezier = smoothIn, 0.25, 1, 0.5, 1

  animation = windows, 1, 5, overshot, slide
  animation = windowsOut, 1, 4, smoothOut, slide
  animation = windowsMove, 1, 4, default
  animation = border, 1, 10, default
  animation = fade, 1, 10, smoothIn
  animation = fadeDim, 1, 10, smoothIn
  animation = workspaces, 1, 6, default

}

dwindle {
  no_gaps_when_only = 1
  pseudotile = true # master switch for pseudotiling. Enabling is bound to mainMod + P in the keybinds section below
  preserve_split = true # you probably want this
}

$mainMod = SUPER
bind = $mainMod, escape, exec, killall wlogout || wlogout --protocol layer-shell -b 5 -T 400 -B 400

bind = $mainMod, Return, exec, wezterm
bind = $mainMod, E, exec, thunar
bind = $mainMod, F, exec, killall tofi || tofi-drun | xargs hyprctl dispatch exec --

# Window Management
bind = $mainMod, Q, killactive,
bind = $mainMod SHIFT, Q, exit,
bind = $mainMod, X, fullscreen,
bind = $mainMod, Space, togglefloating,
bind = $mainMod, P, pseudo, # dwindle
bind = $mainMod, S, togglesplit, # dwindle

# Focus
bind = ALT, h, movefocus, l
bind = ALT, l, movefocus, r
bind = ALT, k, movefocus, u
bind = ALT, j, movefocus, d

# Move
bind = ALT SHIFT, h, movewindow, l
bind = ALT SHIFT, l, movewindow, r
bind = ALT SHIFT, k, movewindow, u
bind = ALT SHIFT, j, movewindow, d

# Resize
binde = $mainMod CTRL, left, resizeactive, -20 0
binde = $mainMod CTRL, right, resizeactive, 20 0
binde = $mainMod CTRL, up, resizeactive, 0 -20
binde = $mainMod CTRL, down, resizeactive, 0 20

# Tabbed
bind = $mainMod, g, togglegroup
bind = $mainMod, tab, changegroupactive

# Special
bind = $mainMod, grave, togglespecialworkspace
bind = $mainMod SHIFT, grave, movetoworkspace, special

# Switch
bind = ALT, 1, workspace, 1
bind = ALT, 2, workspace, 2
bind = ALT, 3, workspace, 3
bind = ALT, 4, workspace, 4
bind = ALT, 5, workspace, 5
bind = ALT, 6, workspace, 6
bind = ALT, 7, workspace, 7
bind = ALT, 8, workspace, 8
bind = ALT, 9, workspace, 9
bind = ALT, 0, workspace, 10
bind = ALT, up, workspace, e+1
bind = ALT, down, workspace, e-1

# Move
bind = ALT SHIFT, 1, movetoworkspace, 1
bind = ALT SHIFT, 2, movetoworkspace, 2
bind = ALT SHIFT, 3, movetoworkspace, 3
bind = ALT SHIFT, 4, movetoworkspace, 4
bind = ALT SHIFT, 5, movetoworkspace, 5
bind = ALT SHIFT, 6, movetoworkspace, 6
bind = ALT SHIFT, 7, movetoworkspace, 7
bind = ALT SHIFT, 8, movetoworkspace, 8
bind = ALT SHIFT, 9, movetoworkspace, 9
bind = ALT SHIFT, 0, movetoworkspace, 10

# Mouse binding
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow
bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1

binde= , XF86AudioRaiseVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%+
binde= , XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
binde= , XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
binde= , XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
binde= , XF86MonBrightnessUp, exec, brightnessctl set 5%+
binde= , XF86MonBrightnessDown, exec, brightnessctl set 5%-

# Extra window rules

# Allow hiding xwaylandvideobridge window correctly
windowrulev2 = opacity 0.0 override 0.0 override,class:^(xwaylandvideobridge)$
windowrulev2 = noanim,class:^(xwaylandvideobridge)$
windowrulev2 = noinitialfocus,class:^(xwaylandvideobridge)$
windowrulev2 = maxsize 1 1,class:^(xwaylandvideobridge)$
windowrulev2 = noblur,class:^(xwaylandvideobridge)$

# Window Rules
windowrule = float, file_progress
windowrule = float, confirm
windowrule = float, dialog
windowrule = float, download
windowrule = float, notification
windowrule = float, error
windowrule = float, splash
windowrule = float, confirmreset
windowrule = float, title:Open File
windowrule = float, title:branchdialog
windowrule = float, Lxappearance
windowrule = float, tofi
windowrule = animation none,tofi
windowrule = float,viewnior
windowrule = float,feh
windowrule = float, pavucontrol-qt
windowrule = float, pavucontrol
windowrule = float, file-roller
windowrule = fullscreen, wlogout
windowrule = float, title:wlogout
windowrule = fullscreen, title:wlogout
windowrule = idleinhibit focus, mpv

windowrule = float, title:^(Media viewer)$
windowrule = float, title:^(Volume Control)$
windowrule = float, title:^(Picture-in-Picture)$
windowrule = size 800 600, title:^(Volume Control)$
windowrule = move 75 44%, title:^(Volume Control)$

# Jellyfin
windowrule = idleinhibit always, jellyfinmediaplayer

# Firefox
windowrule = idleinhibit focus, firefox

# Kitty
windowrule = idleinhibit focus, kitty